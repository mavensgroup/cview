!define APPNAME "CView"
!define COMPANYNAME "Mavens Group"
!define DESCRIPTION "Crystal Structure Visualization"
!define VERSIONMAJOR 0
!define VERSIONMINOR 4
!define VERSIONBUILD 0

RequestExecutionLevel admin

InstallDir "$PROGRAMFILES64\${APPNAME}"

Name "${APPNAME}"
OutFile "cview-installer.exe"

Page directory
Page instfiles

Section "install"
    SetOutPath $INSTDIR
    File "target\release\cview.exe"

    WriteUninstaller "$INSTDIR\uninstall.exe"

    CreateShortcut "$SMPROGRAMS\${APPNAME}.lnk" "$INSTDIR\cview.exe"
SectionEnd

Section "uninstall"
    Delete "$INSTDIR\cview.exe"
    Delete "$INSTDIR\uninstall.exe"
    Delete "$SMPROGRAMS\${APPNAME}.lnk"
    RmDir $INSTDIR
SectionEnd
